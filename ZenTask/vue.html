<!DOCTYPE html>
<html lang="ja">
<head>
	<link rel="stylesheet" href="/css/materialize.css" media="screen,projection">
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link rel='stylesheet' href='css/lib/animations.css'>
	<link rel='stylesheet' href='/css/ZenTask.css'>
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <meta charset="UTF-8">
</head>
<body id="app">
  <header>
  <nav class="teal">
    <div class="nav-wrapper">
      <a href="#!" class="brand-logo"><img src="img/logo_red.png" width="0">ZenTask</a>
      <ul class="headNav right hide-on-med-and-down">
        <li></li>
				<li class="modal-trigger waves-effect waves-light" href="#resetModal"><i class="material-icons small">schedule</i>Reset Time</li>
				<li class="modal-trigger waves-effect waves-light" href="#downloadCsvModal"><i class="fa fa-download"></i> CSV Download</li>
        <li class="waves-effect waves-light"><i class="fa fa-lightbulb-o"></i>How To</li>
        <li class="waves-effect waves-light dropdown-button" data-activates="modeMenu"><i class="material-icons">arrow_drop_down</i>Mode</li>
        <ul id="modeMenu" class="dropdown-content">
          <li><a href="#!">Card</a></li>
          <li><a href="#!">Table</a></li>
          <li><a href="#!">Zen</a></li>
        </ul>
      </ul>
    </div>
  </nav>
  </header>
  <main>
		<section class="">
		  <p class="btn-floating btn-large waves-effect waves-light orange" v-on="click: addTask()"><i class="material-icons">add</i></p>
		  <div class="row animatedParent animateOnce" data-sequence="50">
		    <div class="col" v-repeat="task:tasks">
		      <div class="card hoverable z-depth-1 animated flipInY " data-id="{{$index}}">
            <div class="sashWrap" style='display:none'>
              <p class="sash">Active</p>
            </div>
		        <div class="card-content " v-class="active: task.isActive">
		          <a class="deleteBtn right waves-effect waves-light" href="#" v-on="click: deleteTask($index)" ><i class="fa fa-times-circle"></i></a>
		          <input class="card-title edit validate" v-model="task.title" placeholder="タスク名" type="text"></input>
		          <p class="card-time" v-on="click: toggleTime(this, $index)"><i class="material-icons small">schedule</i><span>{{task.time}}</span></p>
		          <p class="right card-footer">
		            <span class="card-projectName">{{task.projectName}}</span>
		             / <span class="card-ticketId">{{task.ticketId}}</span>
		             / <span class="card-worker">{{task.worker}}</span>
		             /<span class="card-code">{{task.code}}</span>
		          </p>
		        </div>
		      </div>
          <div id="deleteModal{{$index}}" class="modal">
            <div class="modal-content center">
              <h4>このタスクを削除してもよろしいですか？</h4>
            </div>
            <div class="center">
              <p class="btn modal-action modal-close waves-effect waves-green" v-on="click: deleteTask()">OK</p>
              <p class="btn modal-action modal-close waves-effect waves-green">キャンセル</p>
            </div>
          </div>
		    </div>
		  </div>
		</section>

		<section class="container" style='display: none;'>
		  <table class="responsive-table teal darken-1 white-text">
		    <thead>
		      <tr>
		        <th>プロジェクト名</th>
		        <th>コストコード</th>
		        <th>作業者名</th>
		        <th>チケットID</th>
		        <th>タイトル</th>
		        <th>作業時間</th>
		      </tr>
		    </thead>
		    <tbody>
		      <tr>
		        <td><span>Sample Project</span></td>
		        <td><span>201</span></td>
		        <td><span>d_kanai</span></td>
		        <td><span>002002</span></td>
		        <td><span>Materialize CSS 学習</span></td>
		        <td><span>02:30:30</span></td>
		      </tr>
		    </tbody>
		  </table>
		</section>
  </main>

	<section class='modalSection'>
		<div id="resetModal" class="modal">
			<div class="modal-content center">
				<h4>作業時間をリセットしてもよろしいですか？</h4>
			</div>
			<div class="center">
				<p class="btn modal-action modal-close waves-effect waves-green" v-on="click: resetTime()">OK</p>
				<p class="btn modal-action modal-close waves-effect waves-green">キャンセル</p>
			</div>
		</div>
		<div id="downloadCsvModal" class="modal">
			<div class="modal-content center">
				<h4>CSVをダウンロードしますか？</h4>
			</div>
			<div class="center">
				<p class="btn modal-action modal-close waves-effect waves-green" v-on="click: downloadCsv()">OK</p>
				<p class="btn modal-action modal-close waves-effect waves-green">キャンセル</p>
				<a id='csvFile'></a>
			</div>
		</div>
	</section>


	<script src='https://code.jquery.com/jquery-2.1.4.min.js'></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.0/js/materialize.min.js"></script>
	<script src='http://cdnjs.cloudflare.com/ajax/libs/vue/0.12.8/vue.min.js'></script>
	<script src='js/lib/css3-animate-it.js'></script>
	<script type='text/javascript' src='js/KMJS.js'></script>
	<script type='text/javascript' src='js/ZenTask.js'></script>
  <script>
    $(".button-collapse").sideNav();
  </script>
</body>
</html>
